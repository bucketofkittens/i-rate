<div class="full_height" ng-if="show">
    <div id="reset_password">
        <div class="center">
            <div class="email login chepas">
                <div class="modal">
                    <div class="modal_wrapper">
                        <div class="header">
                           <h4 ng-if="message == 0">Reset password</h4>
                        </div>
                        <div class="body">
                            <div class="form-show" ng-if="message == 1">
                                <p class="bla">Message with code was sent to your email</p>
                                <input 
                                        ng-click="onChangePasswordOk()" 
                                        type="button" 
                                        value="OK" />
                            </div>
                            <div class="form-show" ng-if="message == 3">
                                <p class="bla">Password changed</p>
                                <input 
                                        ng-click="onChangePasswordChanged()" 
                                        type="button" 
                                        value="OK" />
                            </div>
                            <ng-form  
                                ng-if="message == 0"
                                id="RepasswordForm" 
                                name="RepasswordForm" 
                                novalidate 
                                class="css-form myForm" >
                                <p ng-if="state == 1">
                                    <input 
                                        id="login_i" 
                                        class="form-input"
                                        ng-model="form.email"
                                        required 
                                        placeholder="Email"
                                        required
                                        type="email" />
                                    <p class="errors" ng-if="isEmailNotFound">Email not found.</p>
                                </p>
                                <p ng-if="state == 2">
                                    <input 
                                        id="login_i" 
                                        class="form-input"
                                        ng-model="form.code"
                                        required
                                        name="Email"
                                        placeholder="Code from email"
                                        type="email" />
                                    <span 
                                        class="errors errorss2" 
                                        ng-show="RepasswordForm.Email.$dirty && (RepasswordForm.Email.$error.required || RepasswordForm.Email.$error.minlength || RepasswordForm.Email.$error.email)">Incorrect email</span>
                                </p>
                                <p ng-if="state == 2">
                                    <input 
                                        type="password" 
                                        id="pass_i"
                                        class="form-input"
                                        ng-model="form.newPassword"
                                        placeholder="New password"
                                        name="newPassword"
                                        required
                                        ng-minlength="6" /> 
                                </p>
                                <p ng-if="state == 2">
                                    <input 
                                        type="password" 
                                        id="pass_i"
                                        class="form-input"
                                        ng-model="form.confirmPassword"
                                        placeholder="Confirm password"
                                        required
                                        name="ConfirmPassword"
                                        same-as='newPassword'
                                        ng-minlength="6" /> 
                                </p>
                                <span 
                                    class="errors errorss1" 
                                    ng-show="RepasswordForm.newPassword.$dirty && (RepasswordForm.newPassword.$error.required || RepasswordForm.newPassword.$error.minlength || RepasswordForm.ConfirmPassword.$error.repeat)">Incorrect password</span>
                                <p class="errors" ng-if="error">{{error}}</p>
                                <p ng-if="state == 1">
                                    <input 
                                        ng-click="onChangePasswordCancel()" 
                                        type="button" 
                                        value="Cancel"
                                        class="cancel" />
                                    <input 
                                        ng-disabled="RepasswordForm.$invalid"
                                        ng-click="onChangePassword()" 
                                        type="button" 
                                        value="Send code" />
                                </p>
                                <p ng-if="state == 2">
                                    <input 
                                        ng-click="onChangePasswordCancel2()" 
                                        type="button" 
                                        value="Cancel"
                                        class="cancel" />
                                    <input 
                                        ng-disabled="RepasswordForm.$invalid"
                                        ng-click="onChangePasswordBegin()" 
                                        type="button" 
                                        value="Save" />
                                </p>
                            </ng-form>
                        </div>
                    </div>
                </div>
            </div>    
        </div>
    </div>
</div>